Activity Streams Conformance Tests
==================================

Roundtrip Tests

Example 1: No explicit or injected language context, language is undefined. Requires additional processing to pass JSON-LD compaction.

  Input:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": "foo"
}

  Output:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": "foo"
}

Example 2: Explicit language with value

  Input:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "@value": "foo", 
    "@language": "en"
  }
}

  Output:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "@value": "foo", 
    "@language": "en"
  }
}

  Or:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo"
  }
}

Example 3: Default language in context

  Input:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo"
}

  Output:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo"
}

  Or (allow inline expansion of default language context)

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo"
  }
}

  Or (allow inline expansion of default language context)

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "@value": "foo",
    "@language": "en"
  }
}

Example 4: Multiple languages

  Input:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo",
    "fr": "bar"
  }
}

  Output:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo",
    "fr": "bar"
  }
}

Example 5: Multiple languages with default language context:

  Input: 

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo",
    "fr": "bar"
  }
}

  Output:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo",
    "fr": "bar"
  }
}

  Or:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo",
    "fr": "bar"
  }
} 

Example 6: Multiple language-sensitive properties

  Input:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo",
  "title": "bar"
}

  Output:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo",
  "title": "bar"
}

  Or: (allow inline expansion)

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "@value": "foo",
    "@language": "en"
  },
  "title": {
    "@value": "bar",
    "@language": "en"
  }
}

  Or: (allow inline expansion)

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo"
  },
  "title": {
    "en": "bar"
  }
}

  Or: (Acceptable but discouraged. Implementations should not do partial inline expansion, keep it consistent)

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo"
  "title": {
    "en": "bar"
  }
}

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": {"en": "foo"}
  "title": "bar"
}

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": {"@value": "foo", "@language": "en"}
  "title": "bar"
}

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo"
  "title": {"@value": "bar", "@language": "en"}
}

Example 7: Multiple language-sensitive properties, different languages, no default language context

  Input:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo"
  },
  "title": {
    "fr": "bar"
  }
}

  Output:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "@value": "foo",
    "@language": "en"
  },
  "title": {
    "@value": "bar",
    "@language": "fr"
  }
}

  Or:

{
  "@context": "http://asjsonld.mybluemix.net",
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo"
  },
  "title": {
    "fr": "bar"
  }
}

  Or: (Implementation may declare it's own default language context and serialize accordingly)

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo",
  "title": {
    "@value": "bar",
    "@language": "fr"
  }
}

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "fr"}],
  "@id": "urn:example:1",
  "displayName": {
    "@value": "foo",
    "@language": "en"
  },
  "title": "bar"
}

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo",
  "title": {
    "fr": "bar"
  }
}

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "fr"}],
  "@id": "urn:example:1",
  "displayName": {
    "en": "foo"
  },
  "title": "bar"
}


Example 8: Inherited default language context

  Input:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "object": {
    "displayName": "foo"
  }
}

  Output:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "object": {
    "displayName": "foo"
  }
}

  Or:

{
  "@context": "http://asjsonld.mybluemix.net",
  "id": "urn:example:1",
  "object": {
    "displayName": {
      "en": "foo"
    }
  }
}

  Or:

{
  "@context": "http://asjsonld.mybluemix.net",
  "id": "urn:example:1",
  "object": {
    "displayName": {
      "@value": "foo",
      "@language": "en"
    }
  }
}

Example 9: Override inherited default language context:

  Input:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo",
  "object": {
    "@context": {
      "@language": "fr"
    },
    "displayName": "bar"
  }
}

  Output:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo",
  "object": {
    "@context": {
      "@language": "fr"
    },
    "displayName": "bar"
  }
}

  Or:

{
  "@context": "http://asjsonld.mybluemix.net",
  "id": "urn:example:1",
  "displayName": {
    "en": "foo"
  },
  "object": {
    "displayName": {
      "fr": "bar"
    }
  }
}

  Or:

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "en"}],
  "@id": "urn:example:1",
  "displayName": "foo",
  "object": {
    "displayName": {
      "fr": "bar"
    }
  }
}

  Or: (Implementation can switch the default language context)

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "fr"}],
  "@id": "urn:example:1",
  "displayName": {
    "en": foo"
  },
  "object": {
    "displayName": "bar"
  }
}

  Or: (Implementation can switch the default language context)

{
  "@context": ["http://asjsonld.mybluemix.net", {"@language": "fr"}],
  "@id": "urn:example:1",
  "displayName": {
    "@value": "foo",
    "@language": "en"
  },
  "object": {
    "displayName": "bar"
  }
}

  Or:

{
  "@context": "http://asjsonld.mybluemix.net",
  "id": "urn:example:1",
  "displayName": {
    "@value": "foo",
    "@language": "en"
  },
  "object": {
    "displayName": {
      "@value": "bar",
      "@language": "fr"
    }
  }
} 

  Or: (Discouraged, mixed inline expansion models should not be used)

{
  "@context": "http://asjsonld.mybluemix.net",
  "id": "urn:example:1",
  "displayName": {
    "en": "foo"
  },
  "object": {
    "displayName": {
      "@value": "bar",
      "@language": "fr"
    }
  }
} 

  Or: (Discouraged, mixed inline expansion models should not be used)

{
  "@context": "http://asjsonld.mybluemix.net",
  "id": "urn:example:1",
  "displayName": {
    "@value": "foo",
    "@language": "en"
  },
  "object": {
    "displayName": {
      "fr": "bar"
    }
  }
} 

Interpretation Tests
Edge Cases
Invalid Input Tests
Extension Handling Tests